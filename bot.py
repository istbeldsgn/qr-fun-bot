import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery, Message
from datetime import datetime
from ticket_generator import generate_ticket  # ‚Üê —Ç–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

from flask import Flask
import threading
import os


# –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Ç–æ–∫–µ–Ω, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º!
BOT_TOKEN = os.getenv("BOT_TOKEN") or "8471418184:AAFHpIxKVHs23W409paFaaImSB_Z35il-vA"
bot = telebot.TeleBot(BOT_TOKEN)

# ID –≥–ª–∞–≤–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_ID = 1118621079

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω
allowed_users = {ADMIN_ID}

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ)
guest_users = set()

# –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
user_data = {}

# –ë–∞–∑—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–ø—Ä–∏–º–µ—Ä, —Ç—ã –≤—Å—Ç–∞–≤–∏—à—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
routes_bus = {
     "2": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "2–∞": ("–†–¶–†–ú ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –†–¶–†–ú"),
    "2–≥": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "2–µ": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Üí –†–∞–¥–∏–æ–∑–∞–≤–æ–¥", "–†–∞–¥–∏–æ–∑–∞–≤–æ–¥ ‚Üí –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "3": ("–í–æ–∫–∑–∞–ª ‚Äî –ù–µ—Ñ—Ç–µ–±–∞–∑–∞", "–ù–µ—Ñ—Ç–µ–±–∞–∑–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "3–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –í–æ–∫–∑–∞–ª"),
    "4": ("–í–æ–∫–∑–∞–ª ‚Äî –¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã", "–¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã ‚Äî –í–æ–∫–∑–∞–ª"),
    "4–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã", "–¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã ‚Äî –í–æ–∫–∑–∞–ª"),
    "4–±": ("–í–æ–∫–∑–∞–ª ‚Äî –ø–æ—Å. –ò–ø—É—Ç—å", "–ø–æ—Å. –ò–ø—É—Ç—å ‚Äî –í–æ–∫–∑–∞–ª"),
    "5": ("–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ó–õ–∏–ù"),
    "5–∞": ("–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –ú–µ–ª—å–Ω–∏–∫–æ–≤ –õ—É–≥", "–º–∫—Ä-–Ω. –ú–µ–ª—å–Ω–∏–∫–æ–≤ –õ—É–≥ ‚Äî –ó–õ–∏–ù"),
    "6": ("–í–æ–∫–∑–∞–ª ‚Äî –ö–æ–ª–ª–µ–¥–∂ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º—ã—Å–ª–æ–≤", "–ö–æ–ª–ª–µ–¥–∂ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º—ã—Å–ª–æ–≤ ‚Äî –í–æ–∫–∑–∞–ª"),
    "7": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "7–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "8": ("–í–æ–∫–∑–∞–ª ‚Äî –ú–∏–ª—å—á–∞", "–ú–∏–ª—å—á–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "8–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–õ–∏–ù", "–ó–õ–∏–ù ‚Äî –í–æ–∫–∑–∞–ª"),
    "8–±": ("–í–æ–∫–∑–∞–ª ‚Äî –ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è", "–ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "8–µ": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–õ–∏–ù", "–ó–õ–∏–ù ‚Äî –í–æ–∫–∑–∞–ª"),
    "9": ("–ó–õ–∏–ù ‚Üí –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Üí –ó–õ–∏–ù"),
    "10": ("–ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è"),
    "11": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ", "—É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ ‚Äî –í–æ–∫–∑–∞–ª"),
    "12": ("—É–ª. –ú–∞–Ω–µ–≤–∏—á–∞ ‚Äî –º–∫—Ä-–Ω. –•—É—Ç–æ—Ä", "–º–∫—Ä-–Ω. –•—É—Ç–æ—Ä ‚Äî —É–ª. –ú–∞–Ω–µ–≤–∏—á–∞"),
    "12–±": ("—É–ª. –ú–∞–Ω–µ–≤–∏—á–∞ ‚Äî –º–∫—Ä-–Ω. –•—É—Ç–æ—Ä", "–º–∫—Ä-–Ω. –•—É—Ç–æ—Ä ‚Äî —É–ª. –ú–∞–Ω–µ–≤–∏—á–∞"),
    "13": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "13–∞": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –£—Ä–∏—Ü–∫–æ–µ", "–£—Ä–∏—Ü–∫–æ–µ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "13–±": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –£—Ä–∏—Ü–∫–æ–µ", "–£—Ä–∏—Ü–∫–æ–µ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "14": ("–í–æ–∫–∑–∞–ª ‚Äî –Ø–∫—É–±–æ–≤–∫–∞", "–Ø–∫—É–±–æ–≤–∫–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "15": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ó–∞–ø–∞–¥–Ω—ã–π", "–º–∫—Ä-–Ω. –ó–∞–ø–∞–¥–Ω—ã–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "16": ("–í–æ–∫–∑–∞–ª ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫", "–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –í–æ–∫–∑–∞–ª"),
    "16–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –¥. –£–∑–∞", "–¥. –£–∑–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "17": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "18": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –†–¶–†–ú", "–†–¶–†–ú ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "18–∞": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "19": ("–í–æ–∫–∑–∞–ª ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –í–æ–∫–∑–∞–ª"),
    "20": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –°—Ç–∞—Ä–∞—è –í–æ–ª–æ—Ç–æ–≤–∞", "–°—Ç–∞—Ä–∞—è –í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "21": ("–í–æ–∫–∑–∞–ª ‚Äî –£—Ä–∏—Ü–∫–æ–µ", "–£—Ä–∏—Ü–∫–æ–µ ‚Äî –í–æ–∫–∑–∞–ª"),
    "21–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –£—Ä–∏—Ü–∫–æ–µ", "–£—Ä–∏—Ü–∫–æ–µ ‚Äî –í–æ–∫–∑–∞–ª"),
    "21–≥": ("–í–æ–∫–∑–∞–ª ‚Äî –£—Ä–∏—Ü–∫–æ–µ", "–£—Ä–∏—Ü–∫–æ–µ ‚Äî –í–æ–∫–∑–∞–ª"),
    "22": ("–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π", "–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –ó–õ–∏–ù"),
    "22–∞": ("–ó–õ–∏–ù ‚Üí –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Üí –ó–õ–∏–ù"),
    "23": ("–ü—Ä. –†–µ—á–∏—Ü–∫–∏–π ‚Äî –¥. –û—Å–æ–≤—Ü—ã", "–¥. –û—Å–æ–≤—Ü—ã ‚Äî –ü—Ä. –†–µ—á–∏—Ü–∫–∏–π"),
    "24": ("–ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞ ‚Äî –ü–ª—è–∂ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–ü–ª—è–∂ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π ‚Äî –ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞"),
    "25": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤", "–ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤ ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "25–∞": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "25–∑": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Üí –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Üí –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "26": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "26–∞": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "27": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "28": ("–í–æ–∫–∑–∞–ª ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –í–æ–∫–∑–∞–ª"),
    "29": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "30": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ë—Ä–∞—Ç—å–µ–≤ –õ–µ–º–µ—à–∫–æ–≤—ã—Ö", "—É–ª. –ë—Ä–∞—Ç—å–µ–≤ –õ–µ–º–µ—à–∫–æ–≤—ã—Ö ‚Äî –í–æ–∫–∑–∞–ª"),
    "31": ("–ó–∞–≤–æ–¥ –ö—Ä–∏—Å—Ç–∞–ª–ª ‚Äî –¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã", "–¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã ‚Äî –ó–∞–≤–æ–¥ –ö—Ä–∏—Å—Ç–∞–ª–ª"),
    "32": ("—É–ª. –ü–µ–Ω—è–∑—å–∫–æ–≤–∞ (–∫–æ–ª—å—Ü–µ–≤–æ–π)", "—É–ª. –ü–µ–Ω—è–∑—å–∫–æ–≤–∞ (–∫–æ–ª—å—Ü–µ–≤–æ–π)"),
    "32–∞": ("–®–∫–æ–ª–∞ ‚Ññ 17 (–∫–æ–ª—å—Ü–µ–≤–æ–π)", "–®–∫–æ–ª–∞ ‚Ññ 17 (–∫–æ–ª—å—Ü–µ–≤–æ–π)"),
    "33": ("–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫"),
    "34": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –°—Ç–∞—Ä–∞—è –í–æ–ª–æ—Ç–æ–≤–∞", "–°—Ç–∞—Ä–∞—è –í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "36–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–∞–≤–æ–¥ –ö–æ—Ä–∞–ª–ª", "–ó–∞–≤–æ–¥ –ö–æ—Ä–∞–ª–ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "37": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ü–æ–ª–µ–≤–∞—è", "—É–ª. –ü–æ–ª–µ–≤–∞—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "38—ç": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –°—É—Ä–≥–∞–Ω–æ–≤–∞ (—ç–∫—Å–ø—Ä–µ—Å—Å)", "—É–ª. –°—É—Ä–≥–∞–Ω–æ–≤–∞ (—ç–∫—Å–ø—Ä–µ—Å—Å) ‚Äî –í–æ–∫–∑–∞–ª"),
    "39": ("–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å"),
    "40": ("–í–æ–∫–∑–∞–ª ‚Äî –ü—Ä–∏–±–æ—Ä", "–ü—Ä–∏–±–æ—Ä ‚Äî –í–æ–∫–∑–∞–ª"),
    "41": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ú–∞–Ω–µ–≤–∏—á–∞", "—É–ª. –ú–∞–Ω–µ–≤–∏—á–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "42": ("–º–∫—Ä-–Ω. –•—É—Ç–æ—Ä ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –º–∫—Ä-–Ω. –•—É—Ç–æ—Ä"),
    "42–∞": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫", "–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "42–±": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "43": ("–í–æ–∫–∑–∞–ª ‚Äî –ë–æ–ª—å—à–µ–≤–∏–∫", "–ë–æ–ª—å—à–µ–≤–∏–∫ ‚Äî –í–æ–∫–∑–∞–ª"),
    "43–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ë–æ–ª—å—à–µ–≤–∏–∫", "–ë–æ–ª—å—à–µ–≤–∏–∫ ‚Äî –í–æ–∫–∑–∞–ª"),
    "43–±": ("–í–æ–∫–∑–∞–ª ‚Äî –ë–æ–ª—å—à–µ–≤–∏–∫", "–ë–æ–ª—å—à–µ–≤–∏–∫ ‚Äî –í–æ–∫–∑–∞–ª"),
    "44": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "45": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞", "—É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "46": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ì–æ–≥–æ–ª—è", "—É–ª. –ì–æ–≥–æ–ª—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "47": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ö–æ—Ç–æ–≤—Å–∫–æ–≥–æ", "—É–ª. –ö–æ—Ç–æ–≤—Å–∫–æ–≥–æ ‚Äî –í–æ–∫–∑–∞–ª"),
    "48": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî —É–ª. –ö—Ä–∞—Å–Ω–æ–∞—Ä–º–µ–π—Å–∫–∞—è", "—É–ª. –ö—Ä–∞—Å–Ω–æ–∞—Ä–º–µ–π—Å–∫–∞—è ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "49": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –¥. –õ–∏–ø–∏–Ω–∏—á–∏", "–¥. –õ–∏–ø–∏–Ω–∏—á–∏ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "50": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π", "–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "51": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ó–õ–∏–ù", "–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "52": ("–í–æ–∫–∑–∞–ª ‚Äî –î–≤–æ—Ä–µ—Ü –∫—É–ª—å—Ç—É—Ä—ã", "–î–≤–æ—Ä–µ—Ü –∫—É–ª—å—Ç—É—Ä—ã ‚Äî –í–æ–∫–∑–∞–ª"),
    "53": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "54": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫", "–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "55": ("–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π", "–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –ó–õ–∏–ù"),
    "56": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "57": ("–í–æ–∫–∑–∞–ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "58": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã", "–¥. –ì–æ–ª–æ–≤–∏–Ω—Ü—ã ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "59": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "60": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞", "—É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "61": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π", "–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "62": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî —É–ª. –ú–∞–Ω–µ–≤–∏—á–∞", "—É–ª. –ú–∞–Ω–µ–≤–∏—á–∞ ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "63": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ê—ç—Ä–æ–ø–æ—Ä—Ç", "–ê—ç—Ä–æ–ø–æ—Ä—Ç ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "64": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ", "—É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ ‚Äî –í–æ–∫–∑–∞–ª"),
    "65": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "66": ("–í–æ–∫–∑–∞–ª ‚Äî –ø–æ—Å. –ß—ë–Ω–∫–∏", "–ø–æ—Å. –ß—ë–Ω–∫–∏ ‚Äî –í–æ–∫–∑–∞–ª"),
    "67": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ó–õ–∏–ù", "–ó–õ–∏–ù ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "68": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫", "–ú–µ–¥–≥–æ—Ä–æ–¥–æ–∫ ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "69": ("–í–æ–∫–∑–∞–ª ‚Äî –ü–ª—è–∂ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–ü–ª—è–∂ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π ‚Äî –í–æ–∫–∑–∞–ª"),
    "70": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "71": ("–ó–õ–∏–ù ‚Äî —É–ª. –ú–∞–Ω–µ–≤–∏—á–∞", "—É–ª. –ú–∞–Ω–µ–≤–∏—á–∞ ‚Äî –ó–õ–∏–ù"),
    "72": ("–º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π ‚Äî –ö–æ–ª–ª–µ–¥–∂ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º—ã—Å–ª–æ–≤", "–ö–æ–ª–ª–µ–¥–∂ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º—ã—Å–ª–æ–≤ ‚Äî –º–∫—Ä-–Ω. –õ—é–±–µ–Ω—Å–∫–∏–π"),
    "73": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤", "–ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤ ‚Äî –í–æ–∫–∑–∞–ª"),
    "74": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî —É–ª. –ë—Ä–∞—Ç—å–µ–≤ –õ–µ–º–µ—à–∫–æ–≤—ã—Ö", "—É–ª. –ë—Ä–∞—Ç—å–µ–≤ –õ–µ–º–µ—à–∫–æ–≤—ã—Ö ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "75": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –°—É—Ä–≥–∞–Ω–æ–≤–∞", "—É–ª. –°—É—Ä–≥–∞–Ω–æ–≤–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "76": ("–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ó–∞–≤–æ–¥ –ö—Ä–∏—Å—Ç–∞–ª–ª", "–ó–∞–≤–æ–¥ –ö—Ä–∏—Å—Ç–∞–ª–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π"),
    "77": ("–º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –º–∫—Ä-–Ω. –Æ–∂–Ω—ã–π"),
    "27–∞": ("–ê–ü ‚Ññ 6 ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –ê–ü ‚Ññ 6"),
    "95": ("–£—Ä–∏—Ü–∫–æ–µ ‚Äî –ê–ü ‚Ññ 1", "–ê–ü ‚Ññ 1 ‚Äî –£—Ä–∏—Ü–∫–æ–µ"),
    "101": ("–ê–ü ‚Ññ 6 ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –ê–ü ‚Ññ 6"),
    "101–∞": ("–ê–ü ‚Ññ 6 ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –ê–ü ‚Ññ 6"),
    "107": ("–í–æ–∫–∑–∞–ª ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –í–æ–∫–∑–∞–ª"),
    "108": ("–ú–∏–ª—å—á–∞ ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –ú–∏–ª—å—á–∞"),
    "108–∞": ("–ú–∏–ª—å—á–∞ ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –ú–∏–ª—å—á–∞"),
    "111": ("—É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî —É–ª. –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–æ–≥–æ"),
    "119": ("–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å"),
    "120": ("–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å"),
    "122": ("–ó–õ–∏–ù ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –ó–õ–∏–ù"),
    "127": ("–í–æ–∫–∑–∞–ª ‚Äî –ê–ü ‚Ññ 6", "–ê–ü ‚Ññ 6 ‚Äî –í–æ–∫–∑–∞–ª"),
    "127–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π", "–º–∫—Ä-–Ω. –ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π ‚Äî –í–æ–∫–∑–∞–ª"),
}
routes_trolleybus = {
    "1": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –û—Ä–∞–Ω–∂–µ—Ä–µ–π–Ω–∞—è", "—É–ª. –û—Ä–∞–Ω–∂–µ—Ä–µ–π–Ω–∞—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "2": ("–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"),
    "3": ("–ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª"),
    "4": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–õ–∏–ù", "–ó–õ–∏–ù ‚Äî –í–æ–∫–∑–∞–ª"),
    "4–±": ("–í–æ–∫–∑–∞–ª ‚Äî –ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è", "–ö–æ—Ä–ø—É—Å –ª–∏—Ç—å—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "5": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª", "–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "5–∞": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "5–±": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª", "–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "6": ("–•–∏–º–∑–∞–≤–æ–¥ (–∫–æ–ª—å—Ü–µ–≤–æ–π)", "–•–∏–º–∑–∞–≤–æ–¥ (–∫–æ–ª—å—Ü–µ–≤–æ–π)"),
    "7": ("–í–æ–∫–∑–∞–ª ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –í–æ–∫–∑–∞–ª"),
    "7–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ó–∞–≤–æ–¥ ¬´–¶–µ–Ω—Ç—Ä–æ–ª–∏—Ç¬ª", "–ó–∞–≤–æ–¥ ¬´–¶–µ–Ω—Ç—Ä–æ–ª–∏—Ç¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "8": ("–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (–∫–æ–ª—å—Ü–µ–≤–æ–π)", "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (–∫–æ–ª—å—Ü–µ–≤–æ–π)"),
    "9": ("–º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª ‚Äî ¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª", "¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª ‚Äî –º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª"),
    "10": ("–í–æ–∫–∑–∞–ª ‚Äî ¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª", "¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "10–∞": ("–í–æ–∫–∑–∞–ª ‚Äî —É–ª. –û—Ä–∞–Ω–∂–µ—Ä–µ–π–Ω–∞—è", "—É–ª. –û—Ä–∞–Ω–∂–µ—Ä–µ–π–Ω–∞—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "11": ("–ó–õ–∏–ù ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ‚Äî –ó–õ–∏–ù"),
    "11–±": ("–ó–õ–∏–ù ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –ó–õ–∏–ù"),
    "12": ("¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî ¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª"),
    "14": ("–•–∏–º–∑–∞–≤–æ–¥ (–∫–æ–ª—å—Ü–µ–≤–æ–π)", "–•–∏–º–∑–∞–≤–æ–¥ (–∫–æ–ª—å—Ü–µ–≤–æ–π)"),
    "15": ("–í–æ–∫–∑–∞–ª ‚Äî –í–æ–ª–æ—Ç–æ–≤–∞", "–í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –í–æ–∫–∑–∞–ª"),
    "16": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª", "–º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "17": ("–º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª ‚Äî –°—Ç–∞–¥–∏–æ–Ω ¬´–ì–æ–º—Å–µ–ª—å–º–∞—à¬ª", "–°—Ç–∞–¥–∏–æ–Ω ¬´–ì–æ–º—Å–µ–ª—å–º–∞—à¬ª ‚Äî –º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª"),
    "18": ("–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî —É–ª. –ö–æ–∂–∞—Ä–∞", "—É–ª. –ö–æ–∂–∞—Ä–∞ ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å"),
    "19": ("–í–æ–∫–∑–∞–ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –í–æ–∫–∑–∞–ª"),
    "20": ("¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî ¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª"),
    "21": ("–í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤", "–ó–∞–≤–æ–¥ —Å–∞–º–æ—Ö–æ–¥–Ω—ã—Ö –∫–æ–º–±–∞–π–Ω–æ–≤ ‚Äî –í–æ–ª–æ—Ç–æ–≤–∞"),
    "23": ("–í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –•–∏–º–∑–∞–≤–æ–¥", "–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –í–æ–ª–æ—Ç–æ–≤–∞"),
    "24": ("–í–æ–ª–æ—Ç–æ–≤–∞ ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –í–æ–ª–æ—Ç–æ–≤–∞"),
    "25": ("–º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª"),
    "26": ("–í–æ–∫–∑–∞–ª ‚Äî –ù–æ–≤–∞—è –ñ–∏–∑–Ω—å", "–ù–æ–≤–∞—è –ñ–∏–∑–Ω—å ‚Äî –í–æ–∫–∑–∞–ª"),
    "27": ("–º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª ‚Äî –°–æ–ª–Ω–µ—á–Ω–∞—è", "–°–æ–ª–Ω–µ—á–Ω–∞—è ‚Äî –º–∫—Ä-–Ω. ¬´–ö–ª—ë–Ω–∫–æ–≤—Å–∫–∏–π¬ª"),
    "28": ("–í–æ–∫–∑–∞–ª ‚Äî –º–∫—Ä-–Ω. ¬´–õ—é–±–µ–Ω—Å–∫–∏–π¬ª", "–º–∫—Ä-–Ω. ¬´–õ—é–±–µ–Ω—Å–∫–∏–π¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "5–≤": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –®–∫–æ–ª–∞ ‚Ññ 73", "–®–∫–æ–ª–∞ ‚Ññ 73 ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "5–¥": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª", "–ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "11–≤": ("–ó–õ–∏–ù ‚Äî –ü–∞—Ä–∫ ¬´–§–µ—Å—Ç–∏–≤–∞–ª—å–Ω—ã–π¬ª", "–ü–∞—Ä–∫ ¬´–§–µ—Å—Ç–∏–≤–∞–ª—å–Ω—ã–π¬ª ‚Äî –ó–õ–∏–ù"),
    "12–∞": ("¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ‚Äî ¬´–°–∞–ª–µ–æ-–ì–æ–º–µ–ª—å¬ª"),
    "19–∞": ("–í–æ–∫–∑–∞–ª ‚Äî –ü–∞—Ä–∫ ¬´–§–µ—Å—Ç–∏–≤–∞–ª—å–Ω—ã–π¬ª", "–ü–∞—Ä–∫ ¬´–§–µ—Å—Ç–∏–≤–∞–ª—å–Ω—ã–π¬ª ‚Äî –í–æ–∫–∑–∞–ª"),
    "22": ("–•–∏–º–∑–∞–≤–æ–¥ ‚Äî –í–æ–∫–∑–∞–ª", "–í–æ–∫–∑–∞–ª ‚Äî –•–∏–º–∑–∞–≤–æ–¥"),
    "103": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî ¬´–ì–æ—Ä—ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç¬ª", "¬´–ì–æ—Ä—ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç¬ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "104": ("–º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª ‚Äî –ó–∞–≤–æ–¥ ¬´–¶–µ–Ω—Ç—Ä–æ–ª–∏—Ç¬ª", "–ó–∞–≤–æ–¥ ¬´–¶–µ–Ω—Ç—Ä–æ–ª–∏—Ç¬ª ‚Äî –º–∫—Ä-–Ω. ¬´–Æ–∂–Ω—ã–π¬ª"),
    "105": ("–ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª ‚Äî ¬´–ì–æ—Ä—ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç¬ª", "¬´–ì–æ—Ä—ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç¬ª ‚Äî –ó–∞–≤–æ–¥ ¬´–ö—Ä–∏—Å—Ç–∞–ª–ª¬ª")
}

# –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ñ–∞–π–ª
def save_allowed_users():
    with open("allowed_users.txt", "w") as f:
        for user_id in allowed_users:
            f.write(str(user_id) + "\n")

# –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Ñ–∞–π–ª–∞
def load_allowed_users():
    try:
        with open("allowed_users.txt", "r") as f:
            for line in f:
                user_id = int(line.strip())
                allowed_users.add(user_id)
    except FileNotFoundError:
        pass

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
load_allowed_users()

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É –æ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞
def notify_admin_about_access_request(user):
    user_id = user.id
    username = user.username or "–Ω–µ—Ç username"
    first_name = user.first_name or ""
    last_name = user.last_name or ""
    full_name = f"{first_name} {last_name}".strip()

    text = (f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É:\n"
            f"–ò–º—è: {full_name}\n"
            f"Username: @{username}\n"
            f"ID: {user_id}\n"
            f"[–ü—Ä–æ—Ñ–∏–ª—å](tg://user?id={user_id})\n\n"
            "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø?")

    keyboard = InlineKeyboardMarkup(row_width=2)
    allow_button = InlineKeyboardButton(text="‚úÖ –†–∞–∑—Ä–µ—à–∏—Ç—å", callback_data=f"allow_{user_id}")
    deny_button = InlineKeyboardButton(text="‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å", callback_data=f"deny_{user_id}")
    keyboard.add(allow_button, deny_button)

    bot.send_message(ADMIN_ID, text, reply_markup=keyboard, parse_mode="HTML")


# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ù–ï —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
@bot.message_handler(func=lambda m: m.chat.id not in allowed_users)
def handle_unauthorized(message: Message):
    chat_id = message.chat.id
    user = message.from_user
    bot.send_message(chat_id, "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω. –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.")
    notify_admin_about_access_request(user)


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ "–†–∞–∑—Ä–µ—à–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
@bot.callback_query_handler(func=lambda call: call.data.startswith(("allow_", "deny_")))
def callback_access_control(call: CallbackQuery):
    user_id_str = call.data.split("_")[1]
    user_id = int(user_id_str)

    if call.from_user.id != ADMIN_ID:
        bot.answer_callback_query(call.id, "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.")
        return

    if call.data.startswith("allow_"):
        if user_id not in allowed_users:
            allowed_users.add(user_id)
            save_allowed_users()

        bot.answer_callback_query(call.id, "–î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω")
        bot.edit_message_text(
            chat_id=call.message.chat.id,
            message_id=call.message.message_id,
            text=f"‚úÖ –î–æ—Å—Ç—É–ø –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è [id={user_id}](tg://user?id={user_id}) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω.",
            parse_mode="Markdown"
        )

        try:
            bot.send_message(user_id, "‚úÖ –í–∞–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É. –ú–æ–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.")
        except Exception:
            pass

    elif call.data.startswith("deny_"):
        bot.answer_callback_query(call.id, "–î–æ—Å—Ç—É–ø –æ—Ç–∫–ª–æ–Ω—ë–Ω")
        bot.edit_message_text(
            chat_id=call.message.chat.id,
            message_id=call.message.message_id,
            text=f"‚ùå –î–æ—Å—Ç—É–ø –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è [id={user_id}](tg://user?id={user_id}) –æ—Ç–∫–ª–æ–Ω—ë–Ω.",
            parse_mode="Markdown"
        )

        try:
            bot.send_message(user_id, "‚ùå –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –≤–∞–º –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω.")
        except Exception:
            pass


# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
@bot.message_handler(commands=['add_guest'])
def add_guest(message: Message):
    if message.from_user.id != ADMIN_ID:
        bot.send_message(message.chat.id, "‚õî –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.")
        return

    args = message.text.split()
    if len(args) != 2 or not args[1].startswith('@'):
        bot.send_message(message.chat.id, "‚ùó –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã: /add_guest @username")
        return

    username = args[1][1:]  # —É–±–∏—Ä–∞–µ–º —Å–∏–º–≤–æ–ª '@'

    # –ü–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –Ω–∏–∫–Ω–µ–π–º—É —Å—Ä–µ–¥–∏ —á–∞—Ç–æ–≤ (–±–æ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å –Ω–∏–º –∫–æ–Ω—Ç–∞–∫—Ç)
    try:
        # –ü–æ–ª—É—á–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–±–æ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å –Ω–∏–º –ø–µ—Ä–µ–ø–∏—Å–∫—É!)
        user = bot.get_chat(f"@{username}")
        guest_id = user.id
    except Exception as e:
        bot.send_message(message.chat.id, f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @{username}. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç —Å –Ω–∏–º —É–∂–µ –æ–±—â–∞–ª—Å—è.")
        return

    if guest_id in allowed_users:
        bot.send_message(message.chat.id, f"‚ÑπÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω.")
        return

    allowed_users.add(guest_id)
    guest_users.add(guest_id)
    save_allowed_users()
    bot.send_message(message.chat.id, f"‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} –¥–æ–±–∞–≤–ª–µ–Ω –∫–∞–∫ –≥–æ—Å—Ç—å.")



# –ö–æ–º–∞–Ω–¥–∞ /start –¥–ª—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
@bot.message_handler(commands=['start'])
def start(message: Message):
    chat_id = message.chat.id
    if chat_id not in allowed_users:
        bot.send_message(chat_id, "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.")
        return

    bot.send_message(chat_id, "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:\n1. –ê–≤—Ç–æ–±—É—Å\n2. –¢—Ä–æ–ª–ª–µ–π–±—É—Å")
    user_data[chat_id] = {}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –æ—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –¥–∏–∞–ª–æ–≥–∞
@bot.message_handler(func=lambda m: True)
def handle_message(message: Message):
    chat_id = message.chat.id

    if chat_id not in allowed_users:
        bot.send_message(chat_id, "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.")
        return

    if chat_id not in user_data:
        user_data[chat_id] = {}

    data = user_data[chat_id]

    if 'transport_type' not in data:
        text = message.text.strip().lower()
        if text == '1' or text == '–∞–≤—Ç–æ–±—É—Å':
            data['transport_type'] = 'bus'
            bot.send_message(chat_id, "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 12):")
        elif text == '2' or text == '—Ç—Ä–æ–ª–ª–µ–π–±—É—Å':
            data['transport_type'] = 'trolleybus'
            bot.send_message(chat_id, "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2):")
        else:
            bot.send_message(
                chat_id,
                "–í–≤–µ–¥–∏—Ç–µ —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:\n"
                "1. –ê–≤—Ç–æ–±—É—Å\n"
                "2. –¢—Ä–æ–ª–ª–µ–π–±—É—Å\n"
                "(–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ü–∏—Ñ—Ä—É –∏–ª–∏ —Å–ª–æ–≤–æ)"
            )


    elif 'route_num' not in data:
        data['route_num'] = message.text.strip()
        route_num = data['route_num']

        # –í—ã–±–æ—Ä –Ω—É–∂–Ω–æ–π –±–∞–∑—ã
        route_base = routes_bus if data['transport_type'] == 'bus' else routes_trolleybus

        if route_num in route_base:
            data['directions'] = route_base[route_num]
            bot.send_message(chat_id, f"–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:\n1. {data['directions'][0]}\n2. {data['directions'][1]}")
        else:
            data['route_manual'] = True
            data['route'] = route_num
            bot.send_message(chat_id, "–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–≤–µ–¥–∏—Ç–µ –≥–∞—Ä–∞–∂–Ω—ã–π –Ω–æ–º–µ—Ä:")


    elif 'route' not in data and not data.get('route_manual', False):
        choice = message.text.strip()
        if choice == '1':
            data['route'] = data['directions'][0]
            bot.send_message(chat_id, "–í–≤–µ–¥–∏—Ç–µ –≥–∞—Ä–∞–∂–Ω—ã–π –Ω–æ–º–µ—Ä:")
        elif choice == '2':
            data['route'] = data['directions'][1]
            bot.send_message(chat_id, "–í–≤–µ–¥–∏—Ç–µ –≥–∞—Ä–∞–∂–Ω—ã–π –Ω–æ–º–µ—Ä:")
        else:
            bot.send_message(chat_id, "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥. –í–≤–µ–¥–∏—Ç–µ 1 –∏–ª–∏ 2:")

    elif 'garage_number' not in data:
        data['garage_number'] = message.text.strip()

        # –°–æ–±–∏—Ä–∞–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        transport_label = '–ê–≤—Ç–æ–±—É—Å' if data['transport_type'] == 'bus' else '–¢—Ä–æ–ª–ª–µ–π–±—É—Å'
        try:
            ticket_path = generate_ticket(
                transport_label,
                data['route_num'],
                data['route'],
                data['garage_number']
            )
            with open(ticket_path, 'rb') as file:
                bot.send_document(chat_id, file)

            bot.send_message(chat_id, "‚úÖ –ë–∏–ª–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω! –í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –¥–ª—è –Ω–æ–≤–æ–≥–æ –±–∏–ª–µ—Ç–∞.")
        except Exception as e:
            bot.send_message(chat_id, f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∏–ª–µ—Ç–∞: {e}")

        # –æ—á–∏—Å—Ç–∫–∞
        user_data.pop(chat_id, None)

    else:
        bot.send_message(
            chat_id,
            "‚ùó –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –í—ã –º–æ–∂–µ—Ç–µ:\n"
            "üîÑ –í–≤–µ—Å—Ç–∏ –ª—é–±–æ–π —Å–∏–º–≤–æ–ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ\n"
            "üìå –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ /start, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"
        )
        user_data.pop(chat_id, None)


     # üëá –í—Å—Ç–∞–≤–∫–∞ Flask-—Å–µ—Ä–≤–µ—Ä–∞
     
     app = Flask(__name__)
     
     @app.route('/')
     def home():
         return "–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!"
     
     @app.route('/ping')
     def ping():
         return "Pong!"
     
     def run_bot():
         load_allowed_users()  # –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
         bot.polling(none_stop=True)
     
     def run_web():
         port = int(os.environ.get("PORT", 8080))
         app.run(host="0.0.0.0", port=port)
     
     if __name__ == "__main__":
         threading.Thread(target=run_bot).start()  # –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
         run_web()  # –∑–∞–ø—É—Å–∫ Flask (–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫)



